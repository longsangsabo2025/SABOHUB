# ğŸ’° Há»† THá»NG HOA Há»’NG - HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG

## ğŸ¯ Tá»”NG QUAN
Há»‡ thá»‘ng commission cho phÃ©p CEO thiáº¿t láº­p quy táº¯c hoa há»“ng, Manager upload bill, vÃ  nhÃ¢n viÃªn theo dÃµi hoa há»“ng cá»§a mÃ¬nh.

## ğŸ‘¥ VAI TRÃ’ & QUYá»€N Háº N

### ğŸ† CEO
- âš™ï¸ **Quáº£n lÃ½ quy táº¯c hoa há»“ng**: Táº¡o, sá»­a, báº­t/táº¯t cÃ¡c quy táº¯c
- âœ… **Duyá»‡t bills**: Approve/Reject bills tá»« Manager
- ğŸ’° **Thanh toÃ¡n**: ÄÃ¡nh dáº¥u hoa há»“ng Ä‘Ã£ thanh toÃ¡n
- ğŸ“Š **Xem dashboard**: Tá»•ng quan toÃ n cÃ´ng ty

### ğŸ‘” MANAGER
- ğŸ“‹ **Upload bills**: Chá»¥p/Upload bill vá»›i thÃ´ng tin chi tiáº¿t
- ğŸ‘€ **Xem bills**: Danh sÃ¡ch bills Ä‘Ã£ upload
- ğŸ’° **Xem hoa há»“ng**: Hoa há»“ng cá»§a báº£n thÃ¢n

### ğŸ‘¨â€ğŸ’¼ NHÃ‚N VIÃŠN (Staff/Shift Leader)
- ğŸ’° **Xem hoa há»“ng**: Dashboard hoa há»“ng cÃ¡ nhÃ¢n
- ğŸ“Š **Thá»‘ng kÃª**: Tá»•ng/Chá» duyá»‡t/ÄÃ£ duyá»‡t/ÄÃ£ thanh toÃ¡n
- ğŸ“… **Filter**: HÃ´m nay/7 ngÃ y/ThÃ¡ng/Táº¥t cáº£

---

## ğŸ“± HÆ¯á»šNG DáºªN Sá»¬ Dá»¤NG

### 1ï¸âƒ£ CEO: Táº O QUY Táº®C HOA Há»’NG

#### BÆ°á»›c 1: VÃ o trang Quy Táº¯c
- Má»Ÿ app â†’ Bottom navigation â†’ **"âš™ï¸ Quy táº¯c"** (chá»‰ CEO tháº¥y)

#### BÆ°á»›c 2: Táº¡o quy táº¯c má»›i
- Nháº¥n nÃºt **"+ Táº¡o Quy Táº¯c"** (FAB gÃ³c dÆ°á»›i pháº£i)

#### BÆ°á»›c 3: Äiá»n thÃ´ng tin
- **TÃªn Quy Táº¯c**: VD: "Hoa há»“ng nhÃ¢n viÃªn bÃ¡n hÃ ng"
- **MÃ´ Táº£**: VD: "5% cho má»—i bill trÃªn 1 triá»‡u"
- **Ãp Dá»¥ng Cho**: 
  - **ğŸ‘¥ Táº¥t cáº£**: Má»i nhÃ¢n viÃªn
  - **ğŸ­ Theo vai trÃ²**: Chá»‰ Staff/Manager/CEO
  - **ğŸ‘¤ CÃ¡ nhÃ¢n**: Chá»n 1 ngÆ°á»i cá»¥ thá»ƒ
- **Pháº§n TrÄƒm Hoa Há»“ng**: 0-100% (VD: 5)
- **Bill Tá»‘i Thiá»ƒu**: Chá»‰ bill >= sá»‘ tiá»n nÃ y (VD: 1000000)
- **Äá»™ Æ¯u TiÃªn**: Sá»‘ cÃ ng lá»›n cÃ ng Æ°u tiÃªn (VD: 0)

#### BÆ°á»›c 4: LÆ°u
- Nháº¥n **"Táº¡o"** â†’ Quy táº¯c sáº½ active ngay láº­p tá»©c

#### Tips:
- Táº¡o nhiá»u quy táº¯c vá»›i priority khÃ¡c nhau
- Quy táº¯c priority cao hÆ¡n Ä‘Æ°á»£c Ã¡p dá»¥ng trÆ°á»›c
- CÃ³ thá»ƒ báº­t/táº¯t quy táº¯c báº¥t cá»© lÃºc nÃ o (Toggle switch)

---

### 2ï¸âƒ£ MANAGER: UPLOAD BILL

#### BÆ°á»›c 1: VÃ o trang Bills
- Má»Ÿ app â†’ Bottom navigation â†’ **"ğŸ“‹ Bills"**

#### BÆ°á»›c 2: Upload bill má»›i
- Nháº¥n nÃºt **"+ Upload Bill"** (FAB gÃ³c dÆ°á»›i pháº£i)

#### BÆ°á»›c 3: Chá»¥p/Chá»n áº£nh bill
- Nháº¥n **"Chá»n áº¢nh Bill"**
- Chá»n áº£nh tá»« thÆ° viá»‡n hoáº·c chá»¥p má»›i

#### BÆ°á»›c 4: Äiá»n thÃ´ng tin
- **Sá»‘ Bill\***: VD: BILL001 (báº¯t buá»™c)
- **NgÃ y Bill**: Chá»n ngÃ y tá»« calendar
- **Tá»•ng Tiá»n\***: VD: 1500000 (báº¯t buá»™c)
- **TÃªn Cá»­a HÃ ng**: VD: Chi nhÃ¡nh 1 (tÃ¹y chá»n)
- **Ghi ChÃº**: ThÃªm ghi chÃº náº¿u cáº§n

#### BÆ°á»›c 5: Upload
- Nháº¥n **"âœ… Upload Bill"**
- Bill sáº½ á»Ÿ tráº¡ng thÃ¡i **"â³ Chá» duyá»‡t"**

---

### 3ï¸âƒ£ CEO: DUYá»†T BILL & TÃNH HOA Há»’NG

#### BÆ°á»›c 1: Xem danh sÃ¡ch bills
- VÃ o **"ğŸ“‹ Bills"** â†’ Xem bills pending

#### BÆ°á»›c 2: Duyá»‡t bill
- Má»Ÿ bill â†’ Xem chi tiáº¿t
- Nháº¥n **"âœ… Duyá»‡t & TÃ­nh HH"**

#### Äiá»u gÃ¬ xáº£y ra khi duyá»‡t?
1. âœ… Bill status â†’ **Approved**
2. ğŸ”„ Há»‡ thá»‘ng tá»± Ä‘á»™ng tÃ­nh hoa há»“ng cho **Táº¤T Cáº¢ nhÃ¢n viÃªn**
3. ğŸ“Š Dá»±a trÃªn quy táº¯c (priority cao nháº¥t)
4. ğŸ’¾ LÆ°u vÃ o báº£ng `bill_commissions`
5. âœ… Auto approve táº¥t cáº£ commissions

#### Náº¿u tá»« chá»‘i:
- Nháº¥n **"âŒ Tá»« chá»‘i"** â†’ Bill bá»‹ reject, khÃ´ng tÃ­nh hoa há»“ng

---

### 4ï¸âƒ£ NHÃ‚N VIÃŠN: XEM HOA Há»’NG

#### BÆ°á»›c 1: VÃ o trang Hoa Há»“ng
- Má»Ÿ app â†’ Bottom navigation â†’ **"ğŸ’° Hoa há»“ng"**

#### BÆ°á»›c 2: Xem dashboard
- **ğŸ’° Tá»•ng Hoa Há»“ng**: Tá»•ng cá»™ng táº¥t cáº£
- **â³ Chá» Duyá»‡t**: Bills chÆ°a Ä‘Æ°á»£c CEO duyá»‡t
- **âœ… ÄÃ£ Duyá»‡t**: Bills Ä‘Ã£ duyá»‡t, chÆ°a thanh toÃ¡n
- **ğŸ’¸ ÄÃ£ Thanh ToÃ¡n**: ÄÃ£ nháº­n tiá»n

#### BÆ°á»›c 3: Filter theo thá»i gian
- Nháº¥n icon **filter** (gÃ³c pháº£i AppBar)
- Chá»n:
  - ğŸ“… HÃ´m nay
  - ğŸ“† 7 ngÃ y qua
  - ğŸ“Š ThÃ¡ng nÃ y
  - ğŸ—“ï¸ Táº¥t cáº£

#### BÆ°á»›c 4: Xem chi tiáº¿t
- Scroll xuá»‘ng xem danh sÃ¡ch tá»«ng bill
- Má»—i bill hiá»ƒn thá»‹:
  - Sá»‘ tiá»n hoa há»“ng
  - % hoa há»“ng
  - Base amount
  - NgÃ y giá»
  - Status

---

### 5ï¸âƒ£ CEO: THANH TOÃN HOA Há»’NG

#### BÆ°á»›c 1: VÃ o Bills â†’ Filter "âœ… ÄÃ£ duyá»‡t"
- Nháº¥n filter â†’ Chá»n **"ÄÃ£ duyá»‡t"**

#### BÆ°á»›c 2: ÄÃ¡nh dáº¥u Ä‘Ã£ thanh toÃ¡n
- Má»Ÿ bill â†’ Nháº¥n **"ğŸ’° ÄÃ¡nh dáº¥u Ä‘Ã£ thanh toÃ¡n"**

#### Äiá»u gÃ¬ xáº£y ra?
1. Bill status â†’ **Paid**
2. Táº¥t cáº£ commissions cá»§a bill â†’ **Paid**
3. NhÃ¢n viÃªn tháº¥y hoa há»“ng chuyá»ƒn sang **ğŸ’¸ ÄÃ£ Thanh ToÃ¡n**

---

## ğŸ¨ TIPS & TRICKS

### ğŸ’¡ CEO Tips
1. **Táº¡o quy táº¯c theo táº§ng**:
   - Priority 10: NhÃ¢n viÃªn xuáº¥t sáº¯c (10%)
   - Priority 5: Staff thÆ°á»ng (5%)
   - Priority 0: Default (3%)

2. **Set min bill amount** Ä‘á»ƒ chá»‰ tÃ­nh hoa há»“ng cho bill lá»›n

3. **DÃ¹ng effective dates** cho campaign cÃ³ thá»i háº¡n

### ğŸ’¡ Manager Tips
1. **Chá»¥p áº£nh rÃµ rÃ ng** - áº¢nh bill dá»… Ä‘á»c
2. **Ghi chÃº Ä‘áº§y Ä‘á»§** - GiÃºp CEO duyá»‡t nhanh
3. **Check láº¡i sá»‘ tiá»n** - Äáº£m báº£o chÃ­nh xÃ¡c

### ğŸ’¡ Staff Tips
1. **Check dashboard hÃ ng ngÃ y** - Theo dÃµi hoa há»“ng
2. **DÃ¹ng filter** - Xem theo thÃ¡ng Ä‘á»ƒ tÃ­nh lÆ°Æ¡ng
3. **Screenshot dashboard** - LÆ°u proof khi cáº§n

---

## ğŸ”§ TROUBLESHOOTING

### â“ KhÃ´ng tháº¥y quy táº¯c nÃ o?
- Chá»‰ CEO má»›i táº¡o Ä‘Æ°á»£c quy táº¯c
- VÃ o CEO app â†’ "âš™ï¸ Quy táº¯c"

### â“ Upload bill bá»‹ lá»—i?
- Kiá»ƒm tra káº¿t ná»‘i internet
- Äáº£m báº£o áº£nh khÃ´ng quÃ¡ lá»›n (< 10MB)
- Äiá»n Ä‘áº§y Ä‘á»§ thÃ´ng tin báº¯t buá»™c (*)

### â“ KhÃ´ng tÃ­nh hoa há»“ng?
- Kiá»ƒm tra cÃ³ quy táº¯c active khÃ´ng
- Bill amount pháº£i >= min_bill_amount
- CEO cáº§n approve bill trÆ°á»›c

### â“ Hoa há»“ng sai sá»‘ tiá»n?
- Kiá»ƒm tra % trong quy táº¯c
- Kiá»ƒm tra priority (quy táº¯c nÃ o Ä‘Æ°á»£c Ã¡p dá»¥ng)
- CEO cÃ³ thá»ƒ sá»­a commission trá»±c tiáº¿p trong DB

---

## ğŸ“Š VÃ Dá»¤ THá»°C Táº¾

### Scenario 1: Hoa há»“ng Ä‘á»“ng Ä‘á»u cho táº¥t cáº£
**CEO táº¡o rule:**
- TÃªn: "Default 5%"
- Ãp dá»¥ng: **Táº¥t cáº£**
- Pháº§n trÄƒm: **5%**
- Min bill: **0**

â†’ Má»i nhÃ¢n viÃªn Ä‘á»u Ä‘Æ°á»£c 5% tá»« má»i bill

---

### Scenario 2: Bonus cho nhÃ¢n viÃªn xuáº¥t sáº¯c
**CEO táº¡o 2 rules:**

**Rule 1:**
- TÃªn: "Top Performer Bonus"
- Ãp dá»¥ng: **CÃ¡ nhÃ¢n** (chá»n user A)
- Pháº§n trÄƒm: **10%**
- Priority: **10**

**Rule 2:**
- TÃªn: "Default"
- Ãp dá»¥ng: **Táº¥t cáº£**
- Pháº§n trÄƒm: **5%**
- Priority: **0**

â†’ User A Ä‘Æ°á»£c 10%, cÃ²n láº¡i Ä‘Æ°á»£c 5%

---

### Scenario 3: Chá»‰ tÃ­nh bill lá»›n
**CEO táº¡o rule:**
- TÃªn: "Big Bill Bonus"
- Ãp dá»¥ng: **Táº¥t cáº£**
- Pháº§n trÄƒm: **7%**
- Min bill: **5000000** (5 triá»‡u)

â†’ Chá»‰ bill >= 5 triá»‡u má»›i Ä‘Æ°á»£c hoa há»“ng 7%

---

## âœ… CHECKLIST HOÃ€N THÃ€NH

- [x] CEO táº¡o Ã­t nháº¥t 1 quy táº¯c hoa há»“ng
- [x] Manager upload 1 bill test
- [x] CEO approve bill â†’ Check hoa há»“ng Ä‘Æ°á»£c tÃ­nh
- [x] NhÃ¢n viÃªn vÃ o xem dashboard hoa há»“ng
- [x] CEO Ä‘Ã¡nh dáº¥u Ä‘Ã£ thanh toÃ¡n
- [x] NhÃ¢n viÃªn check status chuyá»ƒn sang Paid

---

## ğŸ‰ CHÃšC Má»ªNG!
Há»‡ thá»‘ng commission Ä‘Ã£ sáºµn sÃ ng sá»­ dá»¥ng! ğŸ’°âœ¨
